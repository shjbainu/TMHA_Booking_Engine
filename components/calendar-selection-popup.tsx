"use client"
import "react-day-picker/dist/style.css"

interface CalendarSelectionPopupProps {
  isOpen: boolean
  onClose: () => void
  onApply: (startDate: Date | null, endDate: Date | null) => void
  initialStartDate?: Date | null
  initialEndDate?: Date | null
}

// Helper to get price category based on the provided Figma colors
const getPriceCategory = (price: number) => {
  if (price <= 300000) return "low" // Corresponds to #a2e5b3
  if (price <= 500000) return "medium" // Corresponds to #fff2d7
  return "high" // Corresponds to #ff8b77
}

// Mock data for prices (replace with actual data fetching in a real app)
const mockPrices: { [key: string]: number } = {
  // January 2025
  "2025-01-01": 650000,
  "2025-01-02": 650000,
  "2025-01-03": 500000,
  "2025-01-04": 400000,
  "2025-01-05": 400000,
  "2025-01-06": 275000,
  "2025-01-07": 275000,
  "2025-01-08": 275000,
  "2025-01-09": 275000,
  "2025-01-10": 400000,
  "2025-01-11": 500000,
  "2025-01-12": 500000,
  "2025-01-13": 275000,
  "2025-01-14": 275000,
  "2025-01-15": 275000,
  "2025-01-16": 400000,
  "2025-01-17": 400000,
  "2025-01-18": 500000,
  "2025-01-19": 500000,
  "2025-01-20": 275000,
  "2025-01-21": 275000,
  "2025-01-22": 275000,
  "2025-01-23": 400000,
  "2025-01-24": 400000,
  "2025-01-25": 650000,
  "2025-01-26": 650000,
  "2025-01-27": 275000,
  "2025-01-28": 275000,
  "2025-01-29": 275000,
  "2025-01-30": 400000,
  "2025-01-31": 650000,

  // February 2025
  "2025-02-01": 500000,
  "2025-02-02": 500000,
  "2025-02-03": 275000,
  "2025-02-04": 275000,
  "2025-02-05": 275000,
  "2025-02-06": 400000,
  "2025-02-07": 400000,
  "2025-02-08": 500000,
  "2025-02-09": 500000,
  "2025-02-10": 650000,
  "2025-02-11": 650000,
  "2025-02-12": 650000,
  "2025-02-13": 650000,
  "2025-02-14": 650000,
  "2025-02-15": 500000,
  "2025-02-16": 500000,
  "2025-02-17": 275000,
  "2025-02-18": 275000,
  "2025-02-19": 275000,
  "2025-02-20": 400000,
  "2025-02-21": 400000,
  "2025-02-22": 500000,
  "2025-02-23": 500000,
  "2025-02-24": 275000,
  "2025-02-25": 275000,
  "2025-02-26": 275000,
  "2025-02-27": 400000,
  "2025-02-28": 400000,

  // March 2025
  "2025-03-01": 500000,
  "2025-03-02": 500000,
  "2025-03-03": 275000,
  "2025-03-04": 275000,
  "2025-03-05": 275000,
  "2025-03-06": 400000,
  "2025-03-07": 400000,
  "2025-03-08": 650000,
  "2025-03-09": 650000,
  "2025-03-10": 275000,
  "2025-03-11": 275000,
  "2025-03-12": 275000,
  "2025-03-13": 400000,
  "2025-03-14": 400000,
  "2025-03-15": 500000,
  "2025-03-16": 500000,
  "2025-03-17": 275000,
  "2025-03-18": 275000,
  "2025-03-19": 275000,
  "2025-03-20": 400000,
  "2025-03-21": 400000,
  "2025-03-22": 500000,
  "2025-03-23": 500000,
  "2025-03-24": 275000,
  "2025-03-25": 275000,
  "2025-03-26": 275000,
  "2025-03-27": 400000,
  "2025-03-28": 400000,
  "2025-03-29": 650000,
  "2025-03-30": 650000,
  "2025-03-31": 275000,

  // April 2025
  "2025-04-01": 275000,
  "2025-04-02": 275000,
  "2025-04-03": 400000,
  "2025-04-04": 400000,
  "2025-04-05": 500000,
  "2025-04-06": 500000,
  "2025-04-07": 275000,
  "2025-04-08": 275000,
  "2025-04-09": 275000,
  "2025-04-10": 400000,
  "2025-04-11": 400000,
  "2025-04-12": 500000,
  "2025-04-13": 500000,
  "2025-04-14": 275000,
  "2025-04-15": 275000,
  "2025-04-16": 275000,
  "2025-04-17": 400000,
  "2025-04-18": 400000,
  "2025-04-19": 500000,
  "2025-04-20": 500000,
  "2025-04-21": 275000,
  "2025-04-22": 275000,
  "2025-04-23": 275000,
  "2025-04-24": 400000,
  "2025-04-25": 400000,
  "2025-04-26": 500000,
  "2025-04-27": 500000,
  "2025-04-28": 650000,
  "2025-04-29": 650000,
  "2025-04-30": 650000,

  // May 2025
  "2025-05-01": 650000,
  "2025-05-02": 650000,
  "2025-05-03": 650000,
  "2025-05-04": 500000,
  "2025-05-05": 400000,
  "2025-05-06": 275000,
  "2025-05-07": 275000,
  "2025-05-08": 275000,
  "2025-05-09": 400000,
  "2025-05-10": 650000,
  "2025-05-11": 500000,
  "2025-05-12": 400000,
  "2025-05-13": 275000,
  "2025-05-14": 275000,
  "2025-05-15": 275000,
  "2025-05-16": 400000,
  "2025-05-17": 650000,
  "2025-05-18": 500000,
  "2025-05-19": 400000,
  "2025-05-20": 275000,
  "2025-05-21": 275000,
  "2025-05-22": 275000,
  "2025-05-23": 400000,
  "2025-05-24": 650000,
  "2025-05-25": 500000,
  "2025-05-26": 400000,
  "2025-05-27": 400000,
  "2025-05-28": 400000,
  "2025-05-29": 400000,
  "2025-05-30": 400000,
  "2025-05-31": 650000,

  // June 2025
  "2025-06-01": 500000,
  "2025-06-02": 400000,
  "2025-06-03": 400000,
  "2025-06-04": 400000,
  "2025-06-05": 400000,
  "2025-06-06": 400000,
  "2025-06-07": 650000,
  "2025-06-08": 400000,
  "2025-06-09": 400000,
  "2025-06-10": 400000,
  "2025-06-11": 400000,
  "2025-06-12": 500000,
  "2025-06-13": 500000,
  "2025-06-14": 650000,
  "2025-06-15": 400000,
  "2025-06-16": 400000,
  "2025-06-17": 400000,
  "2025-06-18": 400000,
  "2025-06-19": 500000,
  "2025-06-20": 500000,
  "2025-06-21": 650000,
  "2025-06-22": 400000,
  "2025-06-23": 400000,
  "2025-06-24": 400000,
  "2025-06-25": 400000,
  "2025-06-26": 500000,
  "2025-06-27": 500000,
  "2025-06-28": 650000,
  "2025-06-29": 400000,
  "2025-06-30": 400000,

  // July 2025
  "2025-07-01": 500000,
  "2025-07-02": 400000,
  "2025-07-03": 400000,
  "2025-07-04": 650000,
  "2025-07-05": 650000,
  "2025-07-06": 650000,
  "2025-07-07": 500000,
  "2025-07-08": 400000,
  "2025-07-09": 400000,
  "2025-07-10": 400000,
  "2025-07-11": 500000,
  "2025-07-12": 650000,
  "2025-07-13": 650000,
  "2025-07-14": 500000,
  "2025-07-15": 400000,
  "2025-07-16": 400000,
  "2025-07-17": 400000,
  "2025-07-18": 500000,
  "2025-07-19": 650000,
  "2025-07-20": 650000,
  "2025-07-21": 500000,
  "2025-07-22": 400000,
  "2025-07-23": 400000,
  "2025-07-24": 400000,
  "2025-07-25": 500000,
  "2025-07-26": 650000,
  "2025-07-27": 650000,
  "2025-07-28": 500000,
  "2025-07-29": 400000,
  "2025-07-30": 400000,
  "2025-07-31": 400000,

  // August 2025
  "2025-08-01": 500000,
  "2025-08-02": 650000,
  "2025-08-03": 650000,
  "2025-08-04": 500000,
  "2025-08-05": 400000,
  "2025-08-06": 400000,
  "2025-08-07": 400000,
  "2025-08-08": 500000,
  "2025-08-09": 650000,
  "2025-08-10": 650000,
  "2025-08-11": 500000,
  "2025-08-12": 400000,
  "2025-08-13": 400000,
  "2025-08-14": 400000,
  "2025-08-15": 650000,
  "2025-08-16": 650000,
  "2025-08-17": 650000,
  "2025-08-18": 500000,
  "2025-08-19": 400000,
  "2025-08-20": 400000,
  "2025-08-21": 400000,
  "2025-08-22": 500000,
  "2025-08-23": 650000,
  "2025-08-24": 650000,
  "2025-08-25": 500000,
  "2025-08-26": 400000,
  "2025-08-27": 400000,
  "2025-08-28": 400000,
  "2025-08-29": 500000,
  "2025-08-30": 650000,
  "2025-08-31": 650000,

  // September 2025
  "2025-09-01": 500000,
  "2025-09-02": 650000,
  "2025-09-03": 275000,
  "2025-09-04": 275000,
  "2025-09-05": 275000,
  "2025-09-06": 400000,
  "2025-09-07": 500000,
  "2025-09-08": 275000,
  "2025-09-09": 275000,
  "2025-09-10": 275000,
  "2025-09-11": 400000,
  "2025-09-12": 400000,
  "2025-09-13": 500000,
  "2025-09-14": 500000,
  "2025-09-15": 275000,
  "2025-09-16": 275000,
  "2025-09-17": 275000,
  "2025-09-18": 400000,
  "2025-09-19": 400000,
  "2025-09-20": 500000,
  "2025-09-21": 500000,
  "2025-09-22": 275000,
  "2025-09-23": 275000,
  "2025-09-24": 275000,
  "2025-09-25": 400000,
  "2025-09-26": 400000,
  "2025-09-27": 500000,
  "2025-09-28": 500000,
  "2025-09-29": 275000,
  "2025-09-30": 650000,

  // October 2025
  "2025-10-01": 650000,
  "2025-10-02": 650000,
  "2025-10-03": 650000,
  "2025-10-04": 500000,
  "2025-10-05": 500000,
  "2025-10-06": 275000,
  "2025-10-07": 275000,
  "2025-10-08": 275000,
  "2025-10-09": 400000,
  "2025-10-10": 400000,
  "2025-10-11": 500000,
  "2025-10-12": 500000,
  "2025-10-13": 275000,
  "2025-10-14": 275000,
  "2025-10-15": 275000,
  "2025-10-16": 400000,
  "2025-10-17": 400000,
  "2025-10-18": 500000,
  "2025-10-19": 500000,
  "2025-10-20": 275000,
  "2025-10-21": 275000,
  "2025-10-22": 275000,
  "2025-10-23": 400000,
  "2025-10-24": 400000,
  "2025-10-25": 500000,
  "2025-10-26": 500000,
  "2025-10-27": 275000,
  "2025-10-28": 275000,
  "2025-10-29": 275000,
  "2025-10-30": 400000,
  "2025-10-31": 650000,

  // November 2025
  "2025-11-01": 500000,
  "2025-11-02": 500000,
  "2025-11-03": 275000,
  "2025-11-04": 275000,
  "2025-11-05": 275000,
  "2025-11-06": 400000,
  "2025-11-07": 400000,
  "2025-11-08": 500000,
  "2025-11-09": 500000,
  "2025-11-10": 275000,
  "2025-11-11": 275000,
  "2025-11-12": 275000,
  "2025-11-13": 400000,
  "2025-11-14": 400000,
  "2025-11-15": 500000,
  "2025-11-16": 500000,
  "2025-11-17": 275000,
  "2025-11-18": 275000,
  "2025-11-19": 275000,
  "2025-11-20": 400000,
  "2025-11-21": 400000,
  "2025-11-22": 500000,
  "2025-11-23": 500000,
  "2025-11-24": 275000,
  "2025-11-25": 275000,
  "2025-11-26": 275000,
  "2025-11-27": 400000,
  "2025-11-28": 400000,
  "2025-11-29": 500000,
  "2025-11-30": 500000,

  // December 2025
  "2025-12-01": 275000,
  "2025-12-02": 275000,
  "2025-12-03": 275000,
  "2025-12-04": 400000,
  "2025-12-05": 400000,
  "2025-12-06": 500000,
  "2025-12-07": 500000,
  "2025-12-08": 275000,
  "2025-12-09": 275000,
  "2025-12-10": 275000,
  "2025-12-11": 400000,
  "2025-12-12": 400000,
  "2025-12-13": 500000,
  "2025-12-14": 500000,
  "2025-12-15": 275000,
  "2025-12-16": 275000,
  "2025-12-17": 275000,
  "2025-12-18": 400000,
  "2025-12-19": 400000,
  "2025-12-20": 500000,
  "2025-12-21": 500000,\
"2025-12-
